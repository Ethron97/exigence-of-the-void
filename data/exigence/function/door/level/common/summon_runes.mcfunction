# Summons circular door runes around the door handle

## CONSTRAINTS
#   AT location

#========================================================================================================

#transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,0.0000f,0.5000f,0.0000f,2.0000f,0.5000f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]

#========================================================================================================
## FIRST RING
#========================================================================================================
summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_1"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,0.0000f,0.7500f,0.0000f,1.0000f,0.7500f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_4"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,-0.3536f,0.3536f,0.0000f,0.7071f,0.3536f,0.3536f,-0.0000f,0.7071f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_7"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,-0.7500f,-0.0000f,-0.0000f,0.0000f,-0.0000f,0.7500f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_10"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,-0.3536f,-0.3536f,0.0000f,-0.7071f,-0.3536f,0.3536f,0.0000f,0.7071f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_13"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,-0.0000f,-0.7500f,-0.0000f,-1.0000f,-0.7500f,0.0000f,-0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_16"]}}},\
transformation:[-0.0000f,-0.0000f,-0.5000f,0.0000f,0.3536f,-0.3536f,-0.0000f,-0.7071f,-0.3536f,-0.3536f,0.0000f,-0.7071f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_19"]}}},\
transformation:[0.0000f,-0.0000f,-0.5000f,0.0000f,0.7500f,-0.0000f,0.0000f,0.0000f,-0.0000f,-0.7500f,0.0000f,-1.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring1","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_22"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,0.3536f,0.3536f,-0.0000f,0.7071f,0.3536f,-0.3536f,-0.0000f,-0.7071f,0.0000f,0.0000f,0.0000f,1.0000f]}


#========================================================================================================
## SECOND RING
#========================================================================================================
summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_2"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,0.0000f,0.7500f,0.0000f,1.5000f,0.7500f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_5"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,-0.3536f,0.3536f,0.0000f,1.060f,0.3536f,0.3536f,-0.0000f,1.060f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_8"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,-0.7500f,-0.0000f,-0.0000f,0.0000f,-0.0000f,0.7500f,0.0000f,1.5000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_11"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,-0.3536f,-0.3536f,0.0000f,-1.060f,-0.3536f,0.3536f,0.0000f,1.060f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_14"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,-0.0000f,-0.7500f,-0.0000f,-1.5000f,-0.7500f,0.0000f,-0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_17"]}}},\
transformation:[-0.0000f,-0.0000f,-0.5000f,0.0000f,0.3536f,-0.3536f,-0.0000f,-1.060f,-0.3536f,-0.3536f,0.0000f,-1.060f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_20"]}}},\
transformation:[0.0000f,-0.0000f,-0.5000f,0.0000f,0.7500f,-0.0000f,0.0000f,0.0000f,-0.0000f,-0.7500f,0.0000f,-1.5000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring2","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_23"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,0.3536f,0.3536f,-0.0000f,1.060f,0.3536f,-0.3536f,-0.0000f,-1.060f,0.0000f,0.0000f,0.0000f,1.0000f]}

#========================================================================================================
## THIRD RING
#========================================================================================================
summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_3"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,0.0000f,0.7500f,0.0000f,2.0000f,0.7500f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_6"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,-0.3536f,0.3536f,0.0000f,1.4140f,0.3536f,0.3536f,-0.0000f,1.4140f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_9"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,-0.7500f,-0.0000f,-0.0000f,0.0000f,-0.0000f,0.7500f,0.0000f,2.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_12"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,-0.3536f,-0.3536f,0.0000f,-1.4140f,-0.3536f,0.3536f,0.0000f,1.4140f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_15"]}}},\
transformation:[0.0000f,0.0000f,-0.5000f,0.0000f,-0.0000f,-0.7500f,-0.0000f,-2.0000f,-0.7500f,0.0000f,-0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_18"]}}},\
transformation:[-0.0000f,-0.0000f,-0.5000f,0.0000f,0.3536f,-0.3536f,-0.0000f,-1.4140f,-0.3536f,-0.3536f,0.0000f,-1.4140f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_21"]}}},\
transformation:[0.0000f,-0.0000f,-0.5000f,0.0000f,0.7500f,-0.0000f,0.0000f,0.0000f,-0.0000f,-0.7500f,0.0000f,-2.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}

summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],billboard:"fixed",Tags:["Door","Ring3","NewRune"],\
item:{id:"minecraft:emerald",count:1,components:{"minecraft:custom_model_data":{"strings":["letter_24"]}}},\
transformation:[-0.0000f,0.0000f,-0.5000f,0.0000f,0.3536f,0.3536f,-0.0000f,1.4140f,0.3536f,-0.3536f,-0.0000f,-1.4140f,0.0000f,0.0000f,0.0000f,1.0000f]}

#========================================================================================================
# Common functions
execute as @e[type=item_display,tag=NewRune] run data modify entity @s brightness set value {block:15,sky:15}



# Randomize each ring's initial rotation
execute store result storage exigence:temp rot int 1 run random value 0..90
execute as @e[type=minecraft:item_display,tag=Ring1,tag=NewRune] at @s run function exigence:door/level/common/rotate_relative with storage exigence:temp

execute store result storage exigence:temp rot int 1 run random value -90..0
execute as @e[type=minecraft:item_display,tag=Ring2,tag=NewRune] at @s run function exigence:door/level/common/rotate_relative with storage exigence:temp

execute store result storage exigence:temp rot int 1 run random value 0..90
execute as @e[type=minecraft:item_display,tag=Ring3,tag=NewRune] at @s run function exigence:door/level/common/rotate_relative with storage exigence:temp

# Cleanup
data remove storage exigence:temp rot
